<div class="dashboard-wrapper">
    <h1 class="white">
        Welcome to the Group Admin Dashboard!
    </h1>
    <div class="modules-wrapper">
        <!-- Return to Chat Room -->
        <div class="module-card" routerLink="/chat">
            <i class="fas fa-arrow-left"></i>
            <h3>Return to Chat Room</h3>
        </div>

        <!-- Create Groups -->
        <div class="module-card" (click)="createGroupFunction()">
            <i class="fas fa-users"></i>
            <h3>Create Group</h3>
        </div>

        <!-- Create Channels -->
        <div class="module-card" (click)="openCreateChannelModal()">
            <i class="fas fa-hashtag"></i>
            <h3>Create Channel</h3>
        </div>

        <!-- Assign User to Group -->
        <div class="module-card" (click)="openAssignUserToGroupModal()">
            <i class="fas fa-user-plus"></i>
            <h3>Assign User to Group</h3>
        </div>

        <!-- Remove Entities -->
        <div class="module-card" (click)="openRemoveUserFromGroupModal()">
            <i class="fas fa-minus-circle"></i>
            <h3>Remove User From Group</h3>
        </div>

        <!-- Modify/Delete Group -->
        <div class="module-card" (click)="openDeleteGroupModal()">
            <i class="fas fa-tools"></i>
            <h3>Delete Group</h3>
        </div>

        <!-- Group Creation Modal -->
        <div id="createGroupModal" class="modal">
            <div class="modal-container">
                <div class="modal-content">
                    <h2>Create Group</h2>
                    <form (submit)="onCreateGroup()">
                        <div class="input-group">
                            <label for="groupName">Group Name</label>
                            <input type="text" name="groupName" id="groupName" [(ngModel)]="newGroupName">
                        </div>
                        <button type="submit" class="modal-btn">Create</button>
                    </form>
                    <button (click)="closeCreateGroupModal()" class="modal-btn">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Channel Creation Modal -->
    <div id="createChannelModal" class="modal">
        <div class="modal-container">
            <div class="modal-content">
                <h2>Create Channel</h2>
                <form (submit)="onCreateChannel()">
                    <div class="input-group">
                        <label for="channelName">Channel Name</label>
                        <input type="text" name="channelName" id="channelName" [(ngModel)]="newChannelName">
                    </div>
                    <div class="input-group">
                        <label for="group">Select Group</label>
                        <select name="group" id="group" [(ngModel)]="selectedGroupId">
                            <option *ngFor="let group of groups" [value]="group._id">{{ group.name }}</option>
                        </select>
                    </div>
                    <button type="submit" class="modal-btn">Create</button>
                </form>
                <button (click)="closeCreateChannelModal()" class="modal-btn">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Assign User to Group Modal -->
    <div id="assignUserToGroupModal" class="modal">
        <div class="modal-container">
            <div class="modal-content">
                <h2>Assign User to Group</h2>
                <form (submit)="onAssignUserToGroup()">
                    <div class="input-group">
                        <label for="user">Select User</label>
                        <select name="user" id="user" [(ngModel)]="selectedUserId">
                            <option *ngFor="let user of users" [value]="user._id">{{ user.username }}</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="group">Select Group</label>
                        <select name="group" id="group" [(ngModel)]="selectedGroupIdForAssignment">
                            <option *ngFor="let group of groups" [value]="group._id">{{ group.name }}</option>
                        </select>
                    </div>
                    <button type="submit" class="modal-btn">Assign</button>
                </form>
                <button (click)="closeAssignUserToGroupModal()" class="modal-btn">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Remove User from Group Modal -->
    <div id="removeUserFromGroupModal" class="modal">
        <div class="modal-container">
            <div class="modal-content">
                <h2>Remove User from Group</h2>
                <form (submit)="onRemoveUserFromGroup()">
                    <div class="input-group">
                        <label for="userRemoval">Select User</label>
                        <select name="userRemoval" id="userRemoval" [(ngModel)]="selectedUserIdForRemoval">
                            <option *ngFor="let user of users" [value]="user._id">{{ user.username }}</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="groupRemoval">Select Group</label>
                        <select name="groupRemoval" id="groupRemoval" [(ngModel)]="selectedGroupIdForRemoval">
                            <option *ngFor="let group of groups" [value]="group._id">{{ group.name }}</option>
                        </select>
                    </div>
                    <button type="submit" class="modal-btn">Remove</button>
                </form>
                <button (click)="closeRemoveUserFromGroupModal()" class="modal-btn">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Delete Group Modal -->
    <div id="deleteGroupModal" class="modal">
        <div class="modal-container">
        <div class="modal-content">
            <h2>Delete Group</h2>
            <form (submit)="onDeleteGroup()">
            <div class="input-group">
                <label for="groupDeletion">Select Group to Delete</label>
                <select name="groupDeletion" id="groupDeletion" [(ngModel)]="selectedGroupIdForDeletion">
                <option *ngFor="let group of groups" [value]="group._id">{{ group.name }}</option>
                </select>
            </div>
            <button type="submit" class="modal-btn">Delete</button>
            </form>
            <button (click)="closeDeleteGroupModal()" class="modal-btn">Cancel</button>
        </div>
        </div>
    </div>
</div>

